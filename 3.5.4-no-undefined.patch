--- origsrc/kdevelop-3.5.4/buildtools/lib/base/Makefile.am	2008-06-30 09:28:33.000000000 -0500
+++ src/kdevelop-3.5.4/buildtools/lib/base/Makefile.am	2009-01-07 23:58:23.954625000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	$(all_includes)
 METASOURCES = AUTO
 lib_LTLIBRARIES = libkdevbuildbase.la
-libkdevbuildbase_la_LDFLAGS = $(all_libraries)
+libkdevbuildbase_la_LDFLAGS = $(all_libraries) -no-undefined
 libkdevbuildbase_la_LIBADD = $(top_builddir)/lib/interfaces/libkdevinterfaces.la $(LIB_QT) $(LIB_KDEUI)
 libkdevbuildbase_la_SOURCES = kdevbuildtool.cpp
 kdevelopbuildtoolsincludedir = $(includedir)/kdevelop/buildtools/base
--- origsrc/kdevelop-3.5.4/buildtools/lib/widgets/Makefile.am	2008-06-30 09:28:33.000000000 -0500
+++ src/kdevelop-3.5.4/buildtools/lib/widgets/Makefile.am	2009-01-07 23:58:23.970250000 -0600
@@ -15,6 +15,9 @@ libkdevbuildtoolswidgets_la_SOURCES = ad
 	removesubprojectdialog.cpp removesubprojectdlgbase.ui runoptionswidget.cpp runoptionswidgetbase.ui \
 	subclassesdlg.cpp subclassesdlgbase.ui
 
+libkdevbuildtoolswidgets_la_LDFLAGS = $(all_libraries) -no-undefined
+libkdevbuildtoolswidgets_la_LIBADD = $(top_builddir)/lib/libkdevelop.la
+
 METASOURCES = AUTO
 
 kdevelopbuildtoolsincludedir = $(includedir)/kdevelop/buildtools/widgets
--- origsrc/kdevelop-3.5.4/kdevdesigner/designer/Makefile.am	2007-11-30 16:37:24.000000000 -0600
+++ src/kdevelop-3.5.4/kdevdesigner/designer/Makefile.am	2009-01-07 23:58:23.985875000 -0600
@@ -6,10 +6,10 @@ INCLUDES = -I$(top_srcdir)/kdevdesigner/
 	-I$(top_srcdir)/lib/interfaces/external $(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES =  libkdevdesignerpart.la
-libkdevdesignerpart_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries)
+libkdevdesignerpart_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries) -Wl,-lqassistantclient,-lqt-mt
 libkdevdesignerpart_la_LIBADD = \
 	$(top_builddir)/kdevdesigner/uilib/libkdevqui.la $(top_builddir)/kdevdesigner/shared/libshared.la \
-	$(top_builddir)/lib/interfaces/external/libkinterfacedesigner.la -lqassistantclient $(LIB_KFILE) $(LIB_KPARTS)
+	$(top_builddir)/lib/interfaces/external/libkinterfacedesigner.la $(LIB_KFILE) $(LIB_KPARTS)
 libkdevdesignerpart_la_SOURCES = kdevdesigner_part.cpp actiondnd.cpp actioneditorimpl.cpp actionlistview.cpp asciivalidator.cpp command.cpp connectionitems.cpp connectiontable.cpp customwidgeteditorimpl.cpp database.cpp dbconnectionimpl.cpp dbconnectionsimpl.cpp defs.cpp designerapp.cpp designerappiface.cpp editfunctionsimpl.cpp filechooser.cpp formfile.cpp formsettingsimpl.cpp formwindow.cpp hierarchyview.cpp iconvieweditorimpl.cpp layout.cpp listboxdnd.cpp listboxeditorimpl.cpp listboxrename.cpp listdnd.cpp listviewdnd.cpp listvieweditorimpl.cpp mainwindow.cpp mainwindowactions.cpp menubareditor.cpp metadatabase.cpp multilineeditorimpl.cpp newformimpl.cpp orderindicator.cpp outputwindow.cpp paletteeditoradvancedimpl.cpp paletteeditorimpl.cpp pixmapchooser.cpp pixmapcollection.cpp popupmenueditor.cpp previewframe.cpp previewwidgetimpl.cpp project.cpp projectsettingsimpl.cpp propertyeditor.cpp propertyobject.cpp qcompletionedit.cpp resource.cpp sizehandle.cpp sourceeditor.cpp sourcefile.cpp startdialogimpl.cpp styledbutton.cpp syntaxhighlighter_html.cpp tableeditorimpl.cpp timestamp.cpp variabledialogimpl.cpp widgetaction.cpp widgetfactory.cpp wizardeditorimpl.cpp workspace.cpp about.ui dbconnection.ui gotolinedialog.ui newform.ui previewwidget.ui variabledialog.ui actioneditor.ui dbconnectioneditor.ui iconvieweditor.ui paletteeditor.ui projectsettings.ui wizardeditor.ui configtoolboxdialog.ui dbconnections.ui listboxeditor.ui paletteeditoradvanced.ui replacedialog.ui connectiondialog.ui editfunctions.ui listeditor.ui pixmapcollectioneditor.ui richtextfontdialog.ui createtemplate.ui finddialog.ui listvieweditor.ui pixmapfunction.ui startdialog.ui customwidgeteditor.ui formsettings.ui multilineeditor.ui preferences.ui tableeditor.ui designeraction.cpp myiconloader.cpp
 partrcdir = $(kde_datadir)/kdevdesignerpart
 partdesktopdir = $(kde_servicesdir)
--- origsrc/kdevelop-3.5.4/languages/ada/Makefile.am	2007-11-30 16:39:07.000000000 -0600
+++ src/kdevelop-3.5.4/languages/ada/Makefile.am	2009-01-07 23:58:23.985875000 -0600
@@ -8,7 +8,7 @@ SUBDIRS = app_templates file_templates d
 
 
 kde_module_LTLIBRARIES = libkdevadasupport.la
-libkdevadasupport_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_PLUGIN)
+libkdevadasupport_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
 libkdevadasupport_la_LIBADD = $(top_builddir)/lib/libkdevelop.la 				$(top_builddir)/lib/antlr/src/libantlr.la
 
 libkdevadasupport_la_SOURCES = adasupportpart.cpp problemreporter.cpp backgroundparser.cpp addclassdlg.ui addclass.cpp configproblemreporter.ui ada_utils.cpp adasupport.cpp AdaLexer.cpp AdaParser.cpp AdaTreeParserSuper.cpp AdaStoreWalker.cpp
--- origsrc/kdevelop-3.5.4/languages/cpp/debugger/mi/Makefile.am	2008-06-30 09:28:41.000000000 -0500
+++ src/kdevelop-3.5.4/languages/cpp/debugger/mi/Makefile.am	2009-01-07 23:58:24.001500000 -0600
@@ -6,7 +6,7 @@ METASOURCES = AUTO
 INCLUDES = $(all_includes)
 
 lib_LTLIBRARIES = libgdbmi_parser.la
-libgdbmi_parser_la_LDFLAGS = $(all_libraries)
+libgdbmi_parser_la_LDFLAGS = $(all_libraries) -no-undefined
 libgdbmi_parser_la_LIBADD = $(LIB_QT)
 libgdbmi_parser_la_SOURCES = gdbmi.cpp miparser.cpp milexer.cpp
 
--- origsrc/kdevelop-3.5.4/languages/kjssupport/Makefile.am	2007-11-30 16:39:01.000000000 -0600
+++ src/kdevelop-3.5.4/languages/kjssupport/Makefile.am	2009-01-07 23:58:24.017125000 -0600
@@ -2,7 +2,7 @@ INCLUDES = -I$(kde_includes)/kdevelop $(
 
 kde_module_LTLIBRARIES = libkdevkjssupport.la
 libkdevkjssupport_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
-libkdevkjssupport_la_LIBADD = -lkjsembed -lkdevelop
+libkdevkjssupport_la_LIBADD = -lkjsembed $(top_builddir)/lib/libkdevelop.la
 libkdevkjssupport_la_SOURCES = kjssupport_part.cpp kjsproblems.cpp jscodecompletion.cpp subclassingdlg.cpp subclassingdlgbase.ui
 
 METASOURCES = AUTO
--- origsrc/kdevelop-3.5.4/languages/lib/debugger/Makefile.am	2008-06-30 09:28:43.000000000 -0500
+++ src/kdevelop-3.5.4/languages/lib/debugger/Makefile.am	2009-01-07 23:58:24.017125000 -0600
@@ -1,7 +1,7 @@
 INCLUDES = -I$(top_srcdir)/lib/interfaces $(all_includes)
 METASOURCES = AUTO
 lib_LTLIBRARIES = liblang_debugger.la
-liblang_debugger_la_LDFLAGS = $(all_libraries)
+liblang_debugger_la_LDFLAGS = $(all_libraries) -no-undefined
 liblang_debugger_la_LIBADD = $(LIB_QT) $(LIB_KDECORE) $(LIB_KPARTS) -lktexteditor
 liblang_debugger_la_SOURCES = kdevdebugger.cpp debugger.cpp
 langincludedirdir = $(includedir)/kdevelop/languages/debugger
--- origsrc/kdevelop-3.5.4/languages/lib/designer_integration/Makefile.am	2008-06-30 09:28:43.000000000 -0500
+++ src/kdevelop-3.5.4/languages/lib/designer_integration/Makefile.am	2009-01-07 23:58:24.032750000 -0600
@@ -2,7 +2,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	-I$(top_srcdir)/lib/interfaces/extensions -I$(top_srcdir)/lib/interfaces/external -I$(top_srcdir)/lib/util \
 	$(all_includes)
 METASOURCES = AUTO
-libdesignerintegration_la_LDFLAGS = $(all_libraries)
+libdesignerintegration_la_LDFLAGS = $(all_libraries) -no-undefined
 lib_LTLIBRARIES = libdesignerintegration.la
 libdesignerintegration_la_LIBADD = $(top_builddir)/lib/interfaces/libkdevinterfaces.la $(LIB_QT) $(LIB_KDECORE) $(LIB_KDEUI)
 libdesignerintegration_la_SOURCES = implementationwidgetbase.ui \
--- origsrc/kdevelop-3.5.4/languages/lib/interfaces/Makefile.am	2007-11-30 16:39:07.000000000 -0600
+++ src/kdevelop-3.5.4/languages/lib/interfaces/Makefile.am	2009-01-07 23:58:24.048375000 -0600
@@ -2,7 +2,7 @@
 METASOURCES = AUTO
 langincludedirdir = $(includedir)/kdevelop/languages/interfaces
 lib_LTLIBRARIES = liblang_interfaces.la
-liblang_interfaces_la_LDFLAGS = $(all_libraries)
+liblang_interfaces_la_LDFLAGS = $(all_libraries) -no-undefined
 liblang_interfaces_la_SOURCES = kdevpcsimporter.cpp
 liblang_interfaces_la_LIBADD = $(LIB_QT)
 langincludedir_HEADERS = kdevpcsimporter.h
--- origsrc/kdevelop-3.5.4/languages/pascal/Makefile.am	2007-11-30 16:39:00.000000000 -0600
+++ src/kdevelop-3.5.4/languages/pascal/Makefile.am	2009-01-07 23:58:24.048375000 -0600
@@ -6,7 +6,7 @@ INCLUDES = -I$(top_srcdir)/lib/antlr -I$
 SUBDIRS = file_templates app_templates compiler doc
 
 kde_module_LTLIBRARIES = libkdevpascalsupport.la
-libkdevpascalsupport_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_PLUGIN)
+libkdevpascalsupport_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
 libkdevpascalsupport_la_LIBADD = $(top_builddir)/lib/libkdevelop.la $(top_builddir)/lib/antlr/src/libantlr.la $(top_builddir)/lib/catalog/libkdevcatalog.la
 
 libkdevpascalsupport_la_SOURCES = pascalsupport_part.cpp PascalLexer.cpp PascalParser.cpp PascalStoreWalker.cpp backgroundparser.cpp configproblemreporter.ui problemreporter.cpp
--- origsrc/kdevelop-3.5.4/lib/cppparser/Makefile.am	2008-06-30 09:28:39.000000000 -0500
+++ src/kdevelop-3.5.4/lib/cppparser/Makefile.am	2009-01-07 23:58:24.064000000 -0600
@@ -1,7 +1,7 @@
 INCLUDES = -I$(top_srcdir)/lib/interfaces $(all_includes)
 AM_CXXFLAGS = -DKDEVELOP_BGPARSER
 lib_LTLIBRARIES = libkdevcppparser.la
-libkdevcppparser_la_LDFLAGS = $(all_libraries)
+libkdevcppparser_la_LDFLAGS = $(all_libraries) -no-undefined
 libkdevcppparser_la_LIBADD = $(LIB_QT) $(LIB_KDECORE) $(top_builddir)/lib/interfaces/libkdevinterfaces.la -lDCOP $(LIB_KDEUI) $(LIB_KPARTS) -lktexteditor $(LIB_KIO) -lkscript
 libkdevcppparser_la_SOURCES = ast.cpp cachemanager.cpp driver.cpp errors.cpp \
 	lexer.cpp lexercache.cpp lookup.cpp parser.cpp tree_parser.cpp
--- origsrc/kdevelop-3.5.4/lib/interfaces/external/Makefile.am	2008-06-30 09:28:39.000000000 -0500
+++ src/kdevelop-3.5.4/lib/interfaces/external/Makefile.am	2009-01-07 23:58:24.079625000 -0600
@@ -7,7 +7,7 @@ kinterfacedesigner_HEADERS = designer.h
 
 lib_LTLIBRARIES =  libkinterfacedesigner.la
 libkinterfacedesigner_la_LIBADD = $(LIB_QT) $(LIB_KPARTS) $(LIB_KDEUI)
-libkinterfacedesigner_la_LDFLAGS = $(all_libraries)
+libkinterfacedesigner_la_LDFLAGS = $(all_libraries) -no-undefined
 libkinterfacedesigner_la_SOURCES =  designer.cpp
 
 DOXYGEN_REFERENCES = dcop interfaces kdecore kdefx kdeui khtml kmdi kio kjs kparts kutils
--- origsrc/kdevelop-3.5.4/lib/interfaces/extras/Makefile.am	2008-06-30 09:28:39.000000000 -0500
+++ src/kdevelop-3.5.4/lib/interfaces/extras/Makefile.am	2009-01-07 23:58:24.079625000 -0600
@@ -2,7 +2,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	$(all_includes)
 METASOURCES = AUTO
 libkdevextras_la_LIBADD = $(LIB_QT)
-libkdevextras_la_LDFLAGS = $(all_libraries)
+libkdevextras_la_LDFLAGS = $(all_libraries) -no-undefined
 lib_LTLIBRARIES = libkdevextras.la
 kdevelopincludedir = $(includedir)/kdevelop/interfaces/extras
 servicetypedir = $(kde_servicetypesdir)
--- origsrc/kdevelop-3.5.4/parts/documentation/interfaces/Makefile.am	2008-06-30 09:28:38.000000000 -0500
+++ src/kdevelop-3.5.4/parts/documentation/interfaces/Makefile.am	2009-01-07 23:58:24.095250000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 METASOURCES = AUTO
 partincludedirdir = $(includedir)/kdevelop/parts/documentation
 lib_LTLIBRARIES = libdocumentation_interfaces.la
-libdocumentation_interfaces_la_LDFLAGS = $(all_libraries)
+libdocumentation_interfaces_la_LDFLAGS = $(all_libraries) -no-undefined
 libdocumentation_interfaces_la_LIBADD = $(LIB_QT) $(LIB_KDECORE) $(LIB_KDEUI) $(LIB_KIO)
 libdocumentation_interfaces_la_SOURCES = kdevdocumentationplugin.cpp
 partincludedir_HEADERS = kdevdocumentationplugin.h
--- origsrc/kdevelop-3.5.4/parts/documentation/plugins/djvu/Makefile.am	2007-11-30 16:35:19.000000000 -0600
+++ src/kdevelop-3.5.4/parts/documentation/plugins/djvu/Makefile.am	2009-01-07 23:58:24.110875000 -0600
@@ -1,7 +1,7 @@
 INCLUDES = -I$(top_srcdir)/lib/interfaces $(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES = libdocdjvuplugin.la
-libdocdjvuplugin_la_LDFLAGS = $(all_libraries)
+libdocdjvuplugin_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
 libdocdjvuplugin_la_LIBADD = $(top_builddir)/lib/libkdevelop.la
 noinst_HEADERS = docdjvuplugin.h
 libdocdjvuplugin_la_SOURCES = docdjvuplugin.cpp
--- origsrc/kdevelop-3.5.4/parts/documentation/plugins/pdf/Makefile.am	2007-11-30 16:35:19.000000000 -0600
+++ src/kdevelop-3.5.4/parts/documentation/plugins/pdf/Makefile.am	2009-01-07 23:58:24.110875000 -0600
@@ -1,7 +1,7 @@
 INCLUDES = -I$(top_srcdir)/lib/interfaces $(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES = libdocpdfplugin.la
-libdocpdfplugin_la_LDFLAGS = $(all_libraries)
+libdocpdfplugin_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
 libdocpdfplugin_la_LIBADD = $(top_builddir)/lib/libkdevelop.la
 noinst_HEADERS = docpdfplugin.h
 libdocpdfplugin_la_SOURCES = docpdfplugin.cpp
--- origsrc/kdevelop-3.5.4/src/Makefile.am	2007-11-30 16:34:49.000000000 -0600
+++ src/kdevelop-3.5.4/src/Makefile.am	2009-01-07 23:58:24.126500000 -0600
@@ -7,7 +7,7 @@ INCLUDES = -I$(top_srcdir)/lib -I$(top_s
 KDE_OPTIONS=nofinal
 
 lib_LTLIBRARIES = libkdevshell.la
-libkdevshell_la_LDFLAGS = $(all_libraries)
+libkdevshell_la_LDFLAGS = $(all_libraries) -no-undefined
 libkdevshell_la_LIBADD = \
 	$(top_builddir)/src/profileengine/lib/libprofileengine.la $(top_builddir)/lib/libkdevelop.la \
 	$(top_builddir)/lib/widgets/libkdevwidgets.la $(top_builddir)/lib/interfaces/extras/libkdevextras.la \
--- origsrc/kdevelop-3.5.4/src/newui/Makefile.am	2008-06-30 09:28:34.000000000 -0500
+++ src/kdevelop-3.5.4/src/newui/Makefile.am	2009-01-07 23:58:24.142125000 -0600
@@ -6,7 +6,7 @@ METASOURCES = AUTO
 
 
 lib_LTLIBRARIES = libd.la
-libd_la_LDFLAGS = $(all_libraries)
+libd_la_LDFLAGS = $(all_libraries) -no-undefined
 
 noinst_HEADERS = dmainwindow.h ddockwindow.h buttonbar.h  button.h  comdefs.h docksplitter.h dtabwidget.h
 libd_la_SOURCES = dmainwindow.cpp buttonbar.cpp \
--- origsrc/kdevelop-3.5.4/src/profileengine/lib/Makefile.am	2008-06-30 09:28:34.000000000 -0500
+++ src/kdevelop-3.5.4/src/profileengine/lib/Makefile.am	2009-01-07 23:58:24.157750000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib -I$(top_s
 	-I$(top_srcdir)/lib/structure $(all_includes)
 METASOURCES = AUTO
 lib_LTLIBRARIES = libprofileengine.la
-libprofileengine_la_LDFLAGS = $(all_libraries)
+libprofileengine_la_LDFLAGS = $(all_libraries) -no-undefined
 libprofileengine_la_LIBADD = $(LIB_QT) $(LIB_KDECORE) $(LIB_KIO)
 libprofileengine_la_SOURCES = profileengine.cpp profile.cpp
 
--- origsrc/kdevelop-3.5.4/vcs/clearcase/clearcasemanipulator.cpp	2008-03-29 19:56:29.000000000 -0500
+++ src/kdevelop-3.5.4/vcs/clearcase/clearcasemanipulator.cpp	2009-01-07 23:58:24.157750000 -0600
@@ -9,6 +9,10 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
+#if defined(Q_OS_CYGWIN) || defined(__CYGWIN__)
+#define _GNU_SOURCE
+#endif
+
 #include "clearcasemanipulator.h"
 
 #include <kprocess.h>
--- origsrc/kdevelop-3.5.4/vcs/clearcase/integrator/Makefile.am	2007-11-30 16:37:31.000000000 -0600
+++ src/kdevelop-3.5.4/vcs/clearcase/integrator/Makefile.am	2009-01-07 23:58:24.173375000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	$(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES = libclearcaseintegrator.la
-libclearcaseintegrator_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
+libclearcaseintegrator_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries)
 libclearcaseintegrator_la_LIBADD =\
 	$(top_builddir)/lib/interfaces/extras/libkdevextras.la\
 	$(top_builddir)/lib/libkdevelop.la
--- origsrc/kdevelop-3.5.4/vcs/cvsservice/integrator/Makefile.am	2007-11-30 16:37:36.000000000 -0600
+++ src/kdevelop-3.5.4/vcs/cvsservice/integrator/Makefile.am	2009-01-07 23:58:24.173375000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	$(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES = libcvsserviceintegrator.la
-libcvsserviceintegrator_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
+libcvsserviceintegrator_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries)
 libcvsserviceintegrator_la_LIBADD = \
 	$(top_builddir)/lib/interfaces/extras/libkdevextras.la $(top_builddir)/lib/libkdevelop.la -lcvsservice
 noinst_HEADERS = cvsserviceintegrator.h integratordlg.h
--- origsrc/kdevelop-3.5.4/vcs/perforce/integrator/Makefile.am	2007-11-30 16:37:33.000000000 -0600
+++ src/kdevelop-3.5.4/vcs/perforce/integrator/Makefile.am	2009-01-07 23:58:24.189000000 -0600
@@ -3,7 +3,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 	$(all_includes)
 METASOURCES = AUTO
 kde_module_LTLIBRARIES = libperforceintegrator.la
-libperforceintegrator_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
+libperforceintegrator_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries)
 libperforceintegrator_la_LIBADD =\
 	$(top_builddir)/lib/interfaces/extras/libkdevextras.la\
 	$(top_builddir)/lib/libkdevelop.la
--- origsrc/kdevelop-3.5.4/vcs/subversion/integrator/Makefile.am	2007-11-30 16:37:29.000000000 -0600
+++ src/kdevelop-3.5.4/vcs/subversion/integrator/Makefile.am	2009-01-07 23:58:24.204625000 -0600
@@ -4,7 +4,7 @@ INCLUDES = -I$(top_srcdir)/lib/interface
 METASOURCES = AUTO
 
 kde_module_LTLIBRARIES = libsubversionintegrator.la
-libsubversionintegrator_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
+libsubversionintegrator_la_LDFLAGS = $(KDE_PLUGIN) $(all_libraries)
 libsubversionintegrator_la_LIBADD =\
 	$(top_builddir)/lib/interfaces/extras/libkdevextras.la\
 	$(top_builddir)/lib/libkdevelop.la
